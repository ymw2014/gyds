<!DOCTYPE html>
<html>
	<head th:replace="pc/include :: head"></head>	
		<style>
		  .yy-gz{
			  display: none;
		  }
		  .biaodanyy>label>span {
				display: inline-block;
				width: 122px !important;
				text-align: right;
				font-size: 14px;
				margin-right: 24px;
				color: #666666;
				float: left;
				line-height: 60px;
			}
		  .biaodanyy>label {
				display: block;
				width: 840px !important;
				margin-left: 50px;
            }
			.duoxianrt{
				    width: 661px;
					float: right;
					margin-top: 20px;
			}
			.duoxianrt input{
				margin-top:20px;
			}
			.tijiaohou{
				width: 80%;
				text-align: left;
				float: right;
				margin-top:50px;
			}
			.biaodanyy>label>div{
				width:338px;
				height: 211px;
				float: left;
				border:1px solid #f0f0f0;
				margin-right:5px;
				text-align: center;
				font-size:16px;
				color:#5c5c5c;
			}
			.biaodanyy>label>div>img{
				width: 235px;
				height: 138px;
				margin-top:36px;
			}
		</style>
	<body>
		<!-- 头部 -->
		<div class="boxRight" style="background:#fff;width: 1006px;height: 1125px;margin-top:0;">
				<div class="cwmx">
					<h4>基本资料</h4>
				</div>
				<form id="signupForm" class="biaodanyy">
				    <label>
						<span>真实姓名</span>
						<input type="text" th:value="${user.name}" readonly="readonly">
					</label>
					<label>
						<span>电话号码</span>
						<input  type="text" th:value="${user.mobile}" readonly="readonly">
					</label>
					<label>
						<span>联系地址</span>
						<input type="text" th:value="${user.province+'&nbsp;'+user.province+'&nbsp;'+user.district}" readonly="readonly">
					</label>
					<label>
						<span>详细地址</span>
						<input type="text" th:value="${user.liveAddress}" readonly="readonly">
					</label>
					<label>
						<span>身份证号</span>
						<input type="text" th:value="${user.cardNo}" readonly="readonly">
					</label>
					<label>
						<span>上传身份证</span>
						 <div>
							 <img th:src="${user.cardFrontImg}" alt="" class="sfz1">
							 <p>身份证正面</p>
						 </div>
						 <div>
							 <img th:src="${user.cardBackImg}" alt="" class="sfz2">
							 <p>身份证反面</p>
						 </div>
					</label>
					<label>
						<span>入团宣言</span>
						 <textarea name="introduction" id="" cols="30" rows="10" style="width: 381px;height: 213px;resize:none;margin-top:20px;">
							 
						 </textarea>
					</label>
					<label>
						<input type="button" id="save" value="提交申请" style="background:#ff0000;height:42px;color:#fff;border: none;margin:30px 0px 0px 100px;border-radius:3px ;">
					</label>
				</form>
				<div class="tijiaohou" id="message">
					<img src="images/hsusus_03.jpg" alt="">
					<p>如果通过审核，我们将在3个工作内通过电话与您沟通，请保持手机畅通，谢谢！</p>
				</div>
			</div>
	</body> 
</html>
<script>
	$(".btn").mouseover(function(){
		 $(this).children("ul").show();
	});
	$(".btn").mouseout(function(){
		 $(this).children("ul").hide();
	})
	$('dt').click(function () {
		if($(this).nextUntil('dt','dd').is(':visible')){
			$(this).nextUntil('dt','dd').slideUp()
		}else{
			$(this).siblings('dd').slideUp().end().nextUntil('dt','dd').slideToggle();
		}
	});
	
	$().ready(function() {
		$("#save").on('click', function() {
			$("#signupForm").submit();
		});
	})

	function save() {
		$.ajax({
			type : "POST",
			url : "/pc/saveVoApply",
			data : $('#signupForm').serialize(),
			success : function(r) {
				if (r.code == 0) {
					$("#signupForm").hide();
					$("#message").show();
				} else {
					layer.msg(r.msg);
					$(".reloadverify").click();
				}
			},
		});
	}

	$().ready(function() {
		validateRule();
	});

	$.validator.setDefaults({
		submitHandler : function() {
			save();
		}
	});
	function validateRule() {
		var icon = "<i class='fa fa-times-circle' ></i> ";
		$("#signupForm")
				.validate(
						{
							rules : {
								name : {
									required : true
								},
								mobile : {
									required : true,
									isMobile : true
								},
								liveAddress : {
									required : true
								},
								cardNo : {
									required : true,
									isIdCardNo : true
								},
								email : {
									required : true
								}
							},
							messages : {
								name : {
									required : "<span style='color:red;margin-left:10px;'>请输入姓名</span>"
								},
								mobile : {
									required : "<span style='color:red;margin-left:10px;'>请输入手机号</span>",
									isMobile : "<span style='color:red;margin-left:10px;'>请输入正确的手机号</span>"
								},
								liveAddress : {
									required : "<span style='color:red;margin-left:10px;'>请输入详细地址</span>"
								},
								cardNo : {
									required : "<span style='color:red;margin-left:10px;'>请输入身份证</span>",
									isIdCardNo : "<span style='color:red;margin-left:10px;'>请输入正确的身份证号</span>"
								},
								email : {
									required : "<span style='color:red;margin-left:10px;'>请输入邮箱地址</span>"
								}
							}
						})
	}
	
</script>