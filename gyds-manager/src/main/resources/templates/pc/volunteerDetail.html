<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<script src="js/jquery-3.1.1.js"></script>
		<link rel="stylesheet" href="css/activity.css">
		<link rel="stylesheet" href="css/VolDeta.css">
		<style>
			.tobqihuan1{
				display: none;
			}
		</style>
	</head>
	<body>
		<div th:replace="pc/include :: header"></div>
		<!-- 左边栏 -->
		<div class="volDeta">
			<div class="volDeta1">
				<div class="volDetatwo">
					<div class="volDetatx">
						<img th:src="${volunteer.headImg}" alt="">
					</div>
					<div class="volDetadw">
						<span th:if="${isReal} eq '0'">未实名</span>
						<span th:if="${isReal} eq '1'">已实名</span>
					</div>
					<div class="volname">
						<span style="font-size:22px;" th:text="${volunteer.volunteerName}"></span> <img src="images/xingbie2_03.png">
						<br>
						<span style="font-size:16px;line-height:40px;color:#7a7a7a;" th:text="${volunteer.province}"></span><img src="images/zy1_03.png" alt="">
					</div>
					<div class="volxx">
						<ul>
							<li>等级 <span>
							<img src="images/gqwg.png" alt="">
							<img src="images/gqwg.png" alt="">
							<img src="images/gqwg.png" alt="">
							</span>
							</li>
							<li>ID <span th:text="${volunteer.id}"></span></li>
							<li>所属团队 <span th:text="${volunteer.teamName}"></span></li>
							<li>参与活动次数 <span th:text="${volunteer.actNumber}"></span></li>
							<li>点击量 <span th:text="${volunteer.clickNumber}"></span></li>
							<li>评价量 <span th:text="${volunteer.commentNumber}"></span></li>
							<li>转发量 <span th:text="${volunteer.sharesNumber}"></span></li>
						</ul>
					</div>
					<div class="volxk1">TA的相框 <span></span> </div>
					<div class="volxk">
						<a href="" th:each="photo : ${photolist}"><img th:src="${photo.imgUrl}" alt=""></a>
					</div>
				</div>
			</div>
			<!-- 中间 -->
			<div class="volDeta2">
				<div class="volcenter">
					<!-- 顶部导航 -->
					<div style="overflow: hidden;" class="volc">
						<ul>
							<li class="volcolor"><span><img src="images/dt.png" alt=""></span>评论</li>
							<li><span><img src="images/pl.png" alt=""></span>转发</li>
							<li><span><img src="images/zf.png" alt=""></span>收藏</li>
							<li><span><img src="images/sc.png" alt=""></span>点赞</li>
						</ul>
					</div>
					<!-- 切换 -->
					<div class="tobqihuan">
						<!-- 数据循环出的内容 -->
						<!-- 评论信息 -->
						 <div class="tobqihuan1" style="display: block;">
							<div th:each="comment: ${commentList}">
								<div class="volneirong">
									<div class="volnrtop">
										<p th:text="${comment.createTimeStr}"></p>
									</div>
								</div>
								<div class="voltext">
									<p th:text="${comment.title}"></p>
								</div>
								<div class="voltextimg">
									<img th:src="${comment.titleImg}" alt="" style="width: 146px;height: 108px;"><a href=""></a></img>
								</div>
								<div class="pinglun">
									<ul>
										<li th:onclick="'share('+ ${comment.newsId}+', 1, 1)'" style="cursor:pointer"><img src="images/sc.png" alt="">&nbsp;转发</li>
										<li><a th:href="'/pc/news/info?id='+ ${comment.newsId}" style="cursor:pointer"><img src="images/pinglun.jpg" alt="">&nbsp;评论</a></li>
										<li th:if=" ${comment.idClick} eq '0'" th:onclick="'likes('+ ${comment.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;赞</li>
										<li th:if=" ${comment.idClick} eq '1'" ><img src="images/gongyitubiao_19.png" alt="" >&nbsp;赞</li>
										<li th:if=" ${comment.idClick} eq '2'" th:onclick="'likes('+ ${comment.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;赞</li>
									</ul>
								</div>
							</div>
						 </div>
						 <!-- 转发信息 -->
						 <div class="tobqihuan1">
							 <div th:each="dynamic: ${sharesList}">
								<div class="volneirong">
									<div class="volnrtop">
										<p th:text="${dynamic.createTime}"></p>
									</div>
								</div>
								<div class="voltext">
									<p th:text="${dynamic.title}"></p>
								</div>
								<div class="voltextimg">
									<img th:src="${dynamic.img}" alt="" style="width: 146px;height: 108px;"><a href=""></a></img>
								</div>
								<div class="pinglun">
									<ul>
										<li th:if=" ${dynamic.actType} eq '2'"  th:onclick="'collection('+${dynamic.newsId}+',5, 2)'" style="cursor:pointer"><img src="images/sc.png" alt="">&nbsp;收藏</li>
										<li  th:onclick="'share('+ ${dynamic.newsId}+', 1, '+ ${dynamic.actType}+')'" style="cursor:pointer"><img src="images/zhuanfa.jpg" alt="">&nbsp;转发</li>    
										<li th:if=" ${dynamic.actType} eq '1'"><a th:href="'/pc/news/info?id='+ ${dynamic.newsId}"><img src="images/pinglun.jpg" alt="">&nbsp;评论</a></li>
										<li th:if=" ${dynamic.actType == '1'} && {dynamic.isClick == '0'}"  th:onclick="'likes('+ ${dynamic.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;点赞</li>
										<li th:if=" ${dynamic.actType == '1'} && {dynamic.isClick == '1'}"  ><img src="images/gongyitubiao_19.png" alt="" >&nbsp;点赞</li>
										<li th:if=" ${dynamic.actType == '1'} && {dynamic.isClick == '2'}"  th:onclick="'likes('+ ${dynamic.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;点赞</li>
									
									</ul>
								</div>
							</div>
						 </div>
						 <!-- 收藏信息 -->
						 <div class="tobqihuan1">
						     <div th:each="dynamic: ${collectList}">
								<div class="volneirong">
									<div class="volnrtop">
										<p th:text="${dynamic.createTime}"></p>
									</div>
								</div>
								<div class="voltext">
									<p th:text="${dynamic.title}"></p>
								</div>
								<div class="voltextimg">
									<img th:src="${dynamic.img}" alt="" style="width: 146px;height: 108px;"><a href=""></a></img>
								</div>
								<div class="pinglun">
									<ul>
										<li th:onclick="'collection('+${dynamic.newsId}+',5, 2)'" style="cursor:pointer"><img src="images/sc.png" alt="" >&nbsp;收藏</li>
										<li th:onclick="'share('+${dynamic.newsId}+',2, 2)'" style="cursor:pointer"><img src="images/zhuanfa.jpg" alt="">&nbsp;转发</li>    
									</ul>
								</div>
							</div>
						 						
						 </div>
						 <!-- 点赞信息 -->
						 <div class="tobqihuan1">
						   	<div th:each="dynamic: ${likesList}">
								<div class="volneirong">
									<div class="volnrtop">
										<p th:text="${dynamic.createTime}"></p>
									</div>
								</div>
								<div class="voltext">
									<p th:text="${dynamic.title}"></p>
								</div>
								<div class="voltextimg">
									<img th:src="${dynamic.img}" alt="" style="width: 146px;height: 108px;"><a href=""></a></img>
								</div>
								<div class="pinglun">
									<ul>
										<li th:onclick="'share('+${dynamic.newsId}+',1, 1)'" style="cursor:pointer"><img src="images/sc.png" alt="">&nbsp;转发</li>
										<li><a th:href="'/pc/news/info?id='+ ${dynamic.newsId}"><img src="images/pinglun.jpg" alt="">&nbsp;评论</a></li>
										<!-- <li th:onclick="'likes('+ ${dynamic.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;赞</li> -->
										
										
										
										<li th:if=" ${dynamic.isClick} eq '0'" th:onclick="'likes('+ ${dynamic.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;赞</li>
										<li th:if=" ${dynamic.isClick} eq '1'" ><img src="images/gongyitubiao_19.png" alt="" >&nbsp;赞</li>
										<li th:if=" ${dynamic.isClick} eq '2'" th:onclick="'likes('+ ${dynamic.newsId}+', 2, 1)'" style="cursor:pointer"><img src="images/dianzan.jpg" alt="" >&nbsp;赞</li>
									</ul>
								</div>
							</div>
						 						
						 </div>
					</div>
					<!-- 切换结束 -->
					
				</div>
			</div>
			<!-- 右边栏 -->
			<div class="volDeta3">
				<a href="#"><img src="images/zyz_03.jpg" alt=""></a>
				<a href="#"><img src="images/zyz_06.jpg" alt=""></a>
				<a href="#"><img src="images/zyz_09.jpg" alt=""></a>
				<a href="#"><img src="images/zyz_12.jpg" alt=""></a>
				<a href="#"><img src="images/zyz_15.jpg" alt=""></a>
				<div class="volDetaimg">
					<div class="volxk1">TA浏览的 <span></span> </div>
					<div style="overflow: hidden;">
						<figure th:each="zyz : ${zyzList}">
							<a href=""><img th:src="${zyz.userHeadimg}" alt=""></a>
							<figcaption>
								<span th:text="${zyz.userName}"></span>
								<p th:text="${zyz.guestTimeStr}"></p>
							</figcaption>
						</figure>
					</div>
				</div>
				<div class="volDetaimg">
					<div class="volxk1">TA的访客 <span></span> </div>
					<div style="overflow: hidden;">
						<figure th:each="gues : ${guestList}">
							<a href=""><img th:src="${gues.guestHeadimg}" alt=""></a>
							<figcaption>
								<span th:text="${gues.guestName}"></span>
								<p th:text="${gues.guestTimeStr}"></p>
							</figcaption>
						</figure>
					</div>
				</div>
			</div>
		</div>
		<div th:replace="pc/include :: footer"></div>
	</body>
</html>
<script src="/js/plugins/layer/layer.js"></script>
<script src="/js/layui.js"></script>
<script src="/js/plugins/layer/laydate/laydate.js"></script>
<script>
	$(".volc li").click(function(){
		$(this).addClass("volcolor").siblings().removeClass("volcolor");
		var index = $(this).index();
		$('.tobqihuan>div').hide().eq($(this).index()).show();
	})
	
	function likes(newsId, type, newtype) {
		$.ajax({
            type : "get",
            dataType: "json",
            url : '/pc/news/likes',
            data : {
            	'newsId': newsId,
            	'type': type
            },
            success : function(result) {
            	if (result.code == 0) {
					$("#like1").attr("src","/pc/images/listzz_04.jpg");
					history.go(0);
				} else if(result.code == 2){
					alert(data.msg);
				}else {
					parent.layer.alert(data.msg)
				}
            }
        });
	}
	
	function share(newsId, type, newtype) {
		var actType = '';
		var type = '';
		if (newtype == 1) {
			actType = '1';
			type = '1';
		} else {
			actType = '2';
			type = '6';
		}
		layer.open({
			type : 2,
			title : '分享',
			maxmin : true,
			shadeClose : false, // 点击遮罩关闭层
			area : [ '300px', '200px' ],
			content : '/pc/activity/share/' + actType + '/' + type + '/' + newsId// iframe的url
		});
	}
	function collection(actId, type, newtype) {
		$.ajax({
            type : "get",
            dataType: "json",
            url : "/pc/activity/collect",
            data : {
            	'actId': actId
            },
            success : function(result) {
            	var code = result.code;
            	if (code == 0) {
            		parent.layer.msg("操作失败");
            	} else if (code == 1){
            		parent.layer.msg("操作成功");
            	} else if (code == 3) {
            		parent.layer.msg("您还没登录，请先登录");
            	} else if(code == -1){
            		parent.layer.msg("您已经收藏了");
            	}
            }
        });
	}
</script>
